<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="WEB-INF/_template.xhtml">
	<ui:define name="title">
	    Venda
	</ui:define>
	<ui:define name="content">

		<h:form id="tabela">

					
			<p:growl autoUpdate="true" />
			<h:panelGrid columns="1" layout="grid">
				<p:panel toggleable="false" toggleOrientation="vertical"
					header="Produto">

					<p:outputLabel value="Codigo de Barra: " for="barra" />
					<p:inputText id="barra" value="#{vendaBean.cd}" tabindex="1" />
					
						<p:commandButton value="Buscar"  update="tabela" tabindex="2"
							actionListener="#{vendaBean.buscar}" />
					




					<p:outputLabel value="Produto:" for="produto" />
					<p:inputText id="produto" readonly="true"
						value="#{vendaBean.produto.nmProduto}">
						
						</p:inputText>

					<p:outputLabel value="Preço R$" for="preco" />
					<p:inputText id="preco" readonly="true"
						value="#{vendaBean.produto.preco}">
						<f:convertNumber pattern="##,###,###,###.##"  minFractionDigits="2"/>
						
						</p:inputText>
				</p:panel>
				<p:panel toggleable="false" toggleOrientation="vertical"
					header="Quantidade">
					<p:outputLabel value="Quantidade" for="quantidade" />
					<p:inputText id="quantidade" value="#{vendaBean.qtd}"  tabindex="3"/>

					<p:outputLabel value="Total R$" for="total" />
					<p:inputText id="total" value="#{vendaBean.total}">
					<f:convertNumber pattern="##,###,###,###.##"  minFractionDigits="2"/>
					</p:inputText>
					<p:commandButton value="Adicionar" update="tabela" tabindex="3"
						actionListener="#{vendaBean.somar}" />
						


				</p:panel>

				<p:panel toggleable="false" toggleOrientation="vertical"
					header="Produto">
					<p:dataTable value="#{vendaBean.produtos}" id="tabela" var="p"
						emptyMessage="Produtos não encontrado">
						<f:facet name="header">
                        Lista Produto
                      </f:facet>
						<p:column headerText="Nome do Produto">
							<h:outputText value="#{p.nmProduto}" />
						</p:column>

					</p:dataTable>

				</p:panel>


			</h:panelGrid>



		</h:form>

	</ui:define>
</ui:composition>
</html>



